@use "variables" as *;

// =============================================================================
// Typography
// =============================================================================

body,
input,
textarea,
option,
select {
  font-family: var(--font-sans);
  font-size: 1rem;
  line-height: 1.7;
  color: var(--text-primary);
  text-rendering: optimizeLegibility;
  font-feature-settings: "liga", "tnum", "case", "calt", "zero", "ss01", "locl";
}

p,
input,
textarea,
select,
option {
  font-size: inherit;
}

i,
.i,
em {
  font-style: italic;
}

b,
.b,
strong {
  font-weight: 700;
}

// --- Headings ---

h1 {
  font-family: var(--font-heading);
  font-size: 2rem;
  font-weight: 400;
  line-height: 1.3;
  color: var(--text-primary);
  margin: 2rem 0 1rem;
}

h2 {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  font-weight: 400;
  line-height: 1.3;
  color: var(--text-primary);
  margin: 2rem 0 1rem;
}

h3 {
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 400;
  line-height: 1.3;
  color: var(--text-primary);
  margin: 1.5rem 0 0.75rem;
}

h4 {
  font-family: var(--font-heading);
  font-size: 1.1rem;
  font-weight: 400;
  line-height: 1.3;
  color: var(--text-primary);
  margin: 1.5rem 0 0.75rem;
}

h5,
h6 {
  font-family: var(--font-heading);
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.3;
  color: var(--text-primary);
  margin: 1rem 0 0.5rem;
}

code {
  font-family: var(--font-mono);
}

// --- Links ---

a {
  color: var(--accent-blue);
  font-size: inherit;
  text-decoration: none;
  border-bottom: none;
  transition: border-color var(--transition-fast);

  &:hover {
    border-bottom: 1px solid var(--accent-blue);
  }

  &:visited {
    color: var(--accent-violet);
  }
}

.contents a:visited {
  color: var(--accent-violet);
}

a:hover {
  text-decoration: none;
}

.contents a.qindexHL:visited {
  color: #ffffff;
}

a.el {
  font-weight: bold;
}

a.elRef {
  text-decoration: underline;
}

a.code,
a.code:visited,
a.line,
a.line:visited {
  color: var(--accent-cyan);
}

a.codeRef,
a.codeRef:visited,
a.lineRef,
a.lineRef:visited {
  color: var(--accent-cyan);
}

// --- Blockquote ---

blockquote {
  background: var(--bg-surface);
  border-left: 4px solid var(--accent-violet);
  border-radius: 0 var(--radius-md) var(--radius-md) 0;
  margin: 1.5em 0;
  padding: 0.75rem 1rem;

  @media #{$media-size-phone} {
    margin: 0.75rem 0;
    padding: 0.75rem;
  }

  p {
    &:first-of-type {
      margin-top: 0;
    }

    &:last-of-type {
      margin-bottom: 0;
    }
  }
}

// --- Doxygen-specific ---

.title_area {
  font-size: 1.75rem;
  font-weight: 700;
}

.title {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  font-weight: 400;
  line-height: 1.7;
}

.groupheader {
  font-family: var(--font-heading);
  font-size: 1.25rem;
  font-weight: 400;
  line-height: 1.3;
}

// --- Link styling ---

.memItemLeft {
  color: var(--accent-orange);
}

// --- Member Descriptions ---

table.memberdecls {
  border-spacing: 0;
  padding: 0;
}

.memberdecls td,
.fieldtable tr {
  transition: background-color var(--transition-normal),
    box-shadow var(--transition-normal);
}

.memberdecls td.glow,
.fieldtable tr.glow {
  background-color: var(--accent-yellow);
  box-shadow: 0 0 15px var(--accent-yellow);
}

.mdescLeft,
.mdescRight,
.memItemLeft,
.memItemRight,
.memTemplItemLeft,
.memTemplItemRight,
.memTemplParams {
  background-color: var(--bg-secondary);
  border: none;
  margin: 4px;
  padding: 1px 0 0 8px;
}

.mdescLeft,
.mdescRight {
  padding: 0 8px 4px 8px;
  color: var(--text-muted);
}

.memSeparator {
  border-bottom: 1px solid var(--border-primary);
  line-height: 1px;
  margin: 0;
  padding: 0;
}

.memItemLeft,
.memTemplItemLeft {
  white-space: nowrap;
}

.memItemRight,
.memTemplItemRight {
  width: 100%;
}

.memTemplParams {
  color: var(--accent-cyan);
  white-space: nowrap;
  font-size: 80%;
}

// --- Member Details ---

.memtitle {
  padding: 8px;
  border-top: 1px solid var(--border-primary);
  border-left: 1px solid var(--border-primary);
  border-right: 1px solid var(--border-primary);
  border-radius: var(--radius-md) var(--radius-md) 0 0;
  margin-bottom: -1px;
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  line-height: 1.25;
  font-weight: 300;
  float: left;
}

.permalink {
  font-size: 65%;
  display: inline-block;
  vertical-align: middle;
}

.memtemplate {
  font-size: 80%;
  color: var(--accent-violet);
  font-weight: bold;
  margin-left: 9px;
}

.memnav {
  background-color: var(--accent-violet);
  border: 1px solid var(--border-primary);
  text-align: center;
  margin: 2px;
  margin-right: 15px;
  padding: 2px;
}

.mempage {
  width: 100%;
}

.memitem {
  padding: 0;
  margin-bottom: 10px;
  margin-right: 5px;
  transition: box-shadow var(--transition-normal);
  display: table !important;
  width: 100%;
}

.memitem.glow {
  box-shadow: 0 0 15px var(--accent-magenta);
}

.memname {
  font-weight: 400;
  margin-left: 6px;
}

.memname td {
  vertical-align: bottom;
}

.memproto,
dl.reflist dt {
  border: 1px solid var(--border-primary);
  border-bottom: none;
  padding: 6px 0;
  color: var(--text-primary);
  font-weight: bold;
  background-color: var(--bg-secondary);
  box-shadow: var(--shadow-sm);
  border-radius: var(--radius-md) var(--radius-md) 0 0;
}

.overload {
  font-family: var(--font-mono);
  font-size: 65%;
}

.memdoc,
dl.reflist dd {
  border: 1px solid var(--border-primary);
  border-top-width: 0;
  padding: 6px 10px 2px 10px;
  background-color: var(--bg-primary);
  border-radius: 0 0 var(--radius-md) var(--radius-md);
  box-shadow: var(--shadow-sm);
}

dl.reflist dt {
  padding: 5px;
}

dl.reflist dd {
  margin: 0 0 10px 0;
  padding: 5px;
}

.paramkey {
  text-align: right;
}

.paramtype {
  white-space: nowrap;
}

.paramname {
  color: var(--accent-green);
  white-space: nowrap;
}
.paramname em {
  font-style: normal;
}
.paramname code {
  line-height: 14px;
}

.params,
.retval,
.exception,
.tparams {
  margin-left: 0;
  padding-left: 0;
}

.params .paramname,
.retval .paramname,
.tparams .paramname,
.exception .paramname {
  font-weight: bold;
  vertical-align: top;
}

.params .paramtype,
.tparams .paramtype {
  font-style: italic;
  vertical-align: top;
}

.params .paramdir,
.tparams .paramdir {
  font-family: var(--font-mono);
  vertical-align: top;
}

table.mlabels {
  border-spacing: 0;
}

td.mlabels-left {
  width: 100%;
  padding: 0;
}

td.mlabels-right {
  vertical-align: bottom;
  padding: 0;
  white-space: nowrap;
}

span.mlabels {
  margin-left: 8px;
}

span.mlabel {
  background-color: var(--accent-red);
  border: 1px solid var(--accent-orange);
  color: var(--bg-primary);
  margin-right: 4px;
  padding: 2px 6px;
  border-radius: var(--radius-xl);
  font-size: 0.7rem;
  white-space: nowrap;
  vertical-align: middle;
  font-weight: 500;
}

// --- Outlink ---

.outlink {
  color: var(--accent-orange);
}

// --- Directory tree view ---

div.directory {
  margin: 10px 0;
  border-top: 1px solid var(--border-subtle);
  border-bottom: 1px solid var(--border-subtle);
  width: 100%;
}

.directory table {
  border-collapse: collapse;
}

.directory td {
  margin: 0;
  padding: 0;
  vertical-align: top;
}

.directory td.entry {
  white-space: nowrap;
  padding-right: 6px;
  padding-top: 3px;
}

.directory td.entry a {
  outline: none;
}

.directory td.entry a img {
  border: none;
}

.directory td.desc {
  width: 100%;
  padding-left: 6px;
  padding-right: 6px;
  padding-top: 3px;
  border-left: 1px solid rgba(0, 0, 0, 0.05);
}

.directory tr.even {
  padding-left: 6px;
  background-color: var(--bg-secondary);
}

.directory img {
  vertical-align: -30%;
}

.directory .levels {
  white-space: nowrap;
  width: 100%;
  text-align: right;
  font-size: 0.84rem;
}

.directory .levels span {
  cursor: pointer;
  padding-left: 2px;
  padding-right: 2px;
  color: var(--accent-violet);
}

.arrow {
  color: var(--accent-violet);
  user-select: none;
  cursor: pointer;
  font-size: 80%;
  display: inline-block;
  width: 16px;
  height: 22px;
}

.icon {
  font-family: Arial, Helvetica;
  font-weight: bold;
  font-size: 12px;
  height: 14px;
  width: 16px;
  display: inline-block;
  background-color: var(--accent-blue);
  color: white;
  text-align: center;
  border-radius: var(--radius-sm);
  margin-left: 2px;
  margin-right: 2px;
}

.icona {
  width: 24px;
  height: 22px;
  display: inline-block;
}

.iconfopen {
  width: 24px;
  height: 18px;
  margin-bottom: 4px;
  background-image: url("folderopen.png");
  background-position: 0px -4px;
  background-repeat: repeat-y;
  vertical-align: top;
  display: inline-block;
}

.iconfclosed {
  width: 24px;
  height: 18px;
  margin-bottom: 4px;
  background-image: url("folderclosed.png");
  background-position: 0px -4px;
  background-repeat: repeat-y;
  vertical-align: top;
  display: inline-block;
}

.icondoc {
  width: 24px;
  height: 18px;
  margin-bottom: 4px;
  background-image: url("doc.png");
  background-position: 0px -4px;
  background-repeat: repeat-y;
  vertical-align: top;
  display: inline-block;
}

table.directory {
  font: 400 14px var(--font-sans);
}

// --- Field table (parameter docs, enum values) ---

table.fieldtable {
  border-collapse: collapse;
  width: 100%;
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-md);
  overflow: hidden;
  margin: 0.5rem 0;

  th {
    background: var(--bg-secondary);
    color: var(--text-primary);
    font-family: var(--font-sans);
    font-size: 0.875rem;
    font-weight: 600;
    padding: 0.5rem 0.75rem;
    text-align: left;
    border-bottom: 1px solid var(--border-primary);
  }

  td {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    vertical-align: top;
    border-bottom: 1px solid var(--border-subtle);
  }

  td.fieldname {
    font-family: var(--font-mono);
    font-weight: 500;
    color: var(--accent-green);
    white-space: nowrap;
    width: 1%;
  }

  td.fielddoc {
    color: var(--text-secondary);
  }

  tr:last-child td {
    border-bottom: none;
  }
}

// --- Markdown tables ---

table.markdownTable {
  border-collapse: collapse;
  width: auto;
  margin: 1rem 0;
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-md);
  overflow: hidden;

  th,
  td {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    border: 1px solid var(--border-subtle);
  }

  th {
    background: var(--bg-secondary);
    font-weight: 600;
    text-align: left;
  }

  tr.markdownTableRowOdd {
    background: var(--bg-primary);
  }

  tr.markdownTableRowEven {
    background: var(--bg-surface);
  }
}

// --- Table of contents ---

div.toc {
  background: var(--toc-bg);
  border: 1px solid var(--toc-border);
  border-radius: var(--radius-md);
  padding: 1rem 1.25rem;
  margin: 1rem 0 1.5rem;
  float: none;
  width: auto;
  max-width: 30rem;

  h3 {
    font-family: var(--font-heading);
    font-size: 1rem;
    font-weight: 400;
    color: var(--text-primary);
    margin: 0 0 0.75rem;
    padding: 0;
    border: none;
  }

  ul {
    list-style: none;
    margin: 0;
    padding: 0;

    ul {
      padding-left: 1rem;
      border-left: 1px solid var(--toc-border);
      margin-top: 0.25rem;
    }
  }

  li {
    margin: 0.125rem 0;

    &.level1 > a {
      font-weight: 500;
    }
  }

  a {
    display: inline-block;
    padding: 0.125rem 0.375rem;
    font-family: var(--font-sans);
    font-size: 0.875rem;
    color: var(--text-secondary);
    border-bottom: none;
    border-radius: var(--radius-sm);
    transition: color var(--transition-fast), background-color var(--transition-fast);

    &:hover {
      color: var(--toc-active);
      background: rgba(38, 139, 210, 0.06);
      border-bottom: none;
    }

    &:visited {
      color: var(--text-secondary);
    }
  }
}

// --- Definition location ---
p.definition {
  font-size: 0.84rem;
  color: var(--text-muted);
  margin-top: 0.5rem;
}

p.reference {
  font-size: 0.84rem;
  color: var(--text-muted);
}

// --- Headertitle ---
.headertitle .title {
  font-family: var(--font-heading);
  font-weight: 400;
}

// --- Math ---
.formulaDsp {
  margin: 1rem 0;
  text-align: center;
}
