<!-- Copyright 2020 Rohit Goswami <rog32@hi.is>

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License. -->

<!-- HTML header for doxygen 1.16.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen $doxygenversion"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!--BEGIN PROJECT_NAME--><title>$projectname: $title</title><!--END PROJECT_NAME-->
<!--BEGIN !PROJECT_NAME--><title>$title</title><!--END !PROJECT_NAME-->
<!--BEGIN PROJECT_ICON-->
<link rel="icon" href="$relpath^$projecticon" type="image/x-icon" />
<!--END PROJECT_ICON-->
<link href="$relpath^tabs.css" rel="stylesheet" type="text/css"/>
<!--BEGIN FULL_SIDEBAR-->
<script type="text/javascript">var page_layout=1;</script>
<!--END FULL_SIDEBAR-->
<script type="text/javascript" src="$relpath^jquery.js"></script>
<script type="text/javascript" src="$relpath^dynsections.js"></script>
<!--BEGIN COPY_CLIPBOARD-->
<script type="text/javascript" src="$relpath^clipboard.js"></script>
<!--END COPY_CLIPBOARD-->
$treeview
$search
$mathjax
$darkmode
<!-- <link href="$relpath^$stylesheet" rel="stylesheet" type="text/css" /> -->
$extrastylesheet
<script type="text/javascript">
// Dark mode: restore preference from localStorage
(function() {
  var stored = localStorage.getItem('doxyYoda-theme');
  if (stored === 'dark') {
    document.documentElement.classList.add('dark');
  } else if (stored === 'light') {
    document.documentElement.classList.add('light');
  }
})();
</script>
</head>
<body>
<!--BEGIN FULL_SIDEBAR-->
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<!--END FULL_SIDEBAR-->
<div class="grid-contents">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->

<!--BEGIN TITLEAREA-->
<nav class="title_area">
<div class="title_area__start"></div>
<div class="title_area__center">
 <!--BEGIN PROJECT_LOGO-->
<a class="project_logo" href="#">
<img src="$relpath^$projectlogo" alt="Logo">
</a>
<!--END PROJECT_LOGO-->
<span class="project_info">$projectname $projectnumber</span>
</div>
<div class="title_area__end">
<button class="dark-mode-toggle" id="darkModeToggle" title="Toggle dark mode" aria-label="Toggle dark mode">&#9790;</button>
</div>
</nav>
<!-- end header part -->
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
  // Code folding: wrap .fragment elements in <details>
  var fragments = document.querySelectorAll('.fragment');
  fragments.forEach(function(frag) {
    var details = document.createElement('details');
    details.className = 'code-details';
    var summary = document.createElement('summary');
    summary.textContent = 'Code';
    frag.parentNode.insertBefore(details, frag);
    details.appendChild(summary);
    details.appendChild(frag);
  });

  // Copy-to-clipboard: add copy button to div.fragment elements
  document.querySelectorAll('div.fragment').forEach(function(frag) {
    var btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    btn.addEventListener('click', function() {
      var lines = frag.querySelectorAll('.line');
      var text = Array.from(lines).map(function(l) { return l.textContent; }).join('\n');
      if (!text) text = frag.textContent;
      navigator.clipboard.writeText(text).then(function() {
        btn.textContent = 'Copied!';
        setTimeout(function() { btn.textContent = 'Copy'; }, 2000);
      });
    });
    frag.appendChild(btn);
  });

  // Dark mode toggle
  var toggle = document.getElementById('darkModeToggle');
  if (toggle) {
    function updateIcon() {
      toggle.innerHTML = document.documentElement.classList.contains('dark') ? '&#9788;' : '&#9790;';
    }
    updateIcon();
    toggle.addEventListener('click', function() {
      var isDark = document.documentElement.classList.toggle('dark');
      if (isDark) {
        document.documentElement.classList.remove('light');
      } else {
        document.documentElement.classList.add('light');
      }
      localStorage.setItem('doxyYoda-theme', isDark ? 'dark' : 'light');
      updateIcon();
    });
  }
});
</script>
